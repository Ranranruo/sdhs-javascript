<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ex05.dataset</title>
  <style>
    .box {
      width: 100px;
      height: 100px;
      border: 3px solid black;
      margin: 10px;
      display: inline-block;
      text-align: center;
      line-height: 100px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <!-- data-변수명="값": 커스텀 속성 표시-->
  <h1>dataset 예제</h1>
  <div class="box" data-color="red">Box 1</div>
  <div class="box" data-color="blue">Box 2</div>
  <div class="box" data-color="green">Box 3</div>
  <div class="box" data-color="yellow">Box 4</div>
  <script>
    // 조건: 이벤트 객체를 활용(target)
    // addEventListener 사용
    // classList
    //document.querySelectorAll('.box').forEach(el=>el.addEventListener("click", e=>e.target.style.background = e.target.hasAttribute("style") ? "" : e.target.classList[1]))
    // 1. 클릭한 대상의 태그를 가져옴 => e.target
    // 2. 클릭한 대상의 배경색상이 있는지 판단
    // 있다면 => 클릭한 대상의 2번째 클래스명(색상)을 배경색으로 지정
    // 없다면 => 클릭한 대상의 스타일 제거 or 투명색 지정

    // dataset속성 접근: 요소노드.dataset.변수명
    const boxList = document.querySelectorAll(".box");
    // console.log(boxList[1].dataset.color);

    //boxList.forEach((box, idx)=>{
    //  box.addEventListener("click", (e)=>{
    //    console.log(`${idx + 1}번째 box color: ${e.target.dataset.color}`);
    //  })
    //})

    document.querySelectorAll(".box").forEach(el=>el.addEventListener("click",e=>e.target.style.background=e.target.hasAttribute("style")?"":e.target.dataset.color));
  </script>
</body>

</html>